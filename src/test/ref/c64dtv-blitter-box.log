Inlined call vicSelectGfxBank::$0 = call toDd00 vicSelectGfxBank::gfx 
Inlined call call __init 

CONTROL FLOW GRAPH SSA

void main()
main: scope:[main]  from __start::@1
  *DTV_FEATURE = DTV_FEATURE_ENABLE
  *DTV_BLITTER_CONTROL2 = DTV_BLIT_CLEAR_IRQ
  *DTV_BLITTER_SRCA_LO = <SRCA
  *DTV_BLITTER_SRCA_MI = >SRCA
  *DTV_BLITTER_SRCA_HI = 0
  *DTV_BLITTER_SRCA_MOD_LO = 0
  *DTV_BLITTER_SRCA_MOD_HI = 0
  *DTV_BLITTER_SRCA_LIN_LO = <$100
  *DTV_BLITTER_SRCA_LIN_HI = >$100
  *DTV_BLITTER_SRCA_STEP = 1
  *DTV_BLITTER_SRCB_LO = <SRCB
  *DTV_BLITTER_SRCB_MI = >SRCB
  *DTV_BLITTER_SRCB_HI = 0
  *DTV_BLITTER_SRCB_MOD_LO = 0
  *DTV_BLITTER_SRCB_MOD_HI = 0
  *DTV_BLITTER_SRCB_LIN_LO = <$100
  *DTV_BLITTER_SRCB_LIN_HI = >$100
  *DTV_BLITTER_SRCB_STEP = 0
  *DTV_BLITTER_DEST_LO = <SCREEN+$28+5
  *DTV_BLITTER_DEST_MI = >SCREEN+$28+5
  *DTV_BLITTER_DEST_HI = 0
  *DTV_BLITTER_DEST_MOD_LO = <$15
  *DTV_BLITTER_DEST_MOD_HI = >$15
  *DTV_BLITTER_DEST_LIN_LO = <$13
  *DTV_BLITTER_DEST_LIN_HI = >$13
  *DTV_BLITTER_DEST_STEP = $10
  *DTV_BLITTER_LEN_LO = <$14*$a
  *DTV_BLITTER_LEN_HI = >$14*$a
  *DTV_BLITTER_ALU = DTV_BLIT_ADD
  *DTV_BLITTER_TRANSPARANCY = DTV_BLIT_TRANSPARANCY_NONE
  *DTV_BLITTER_CONTROL = DTV_BLIT_FORCE_START|DTV_BLIT_SRCA_FWD|DTV_BLIT_SRCB_FWD|DTV_BLIT_DEST_FWD
  *DTV_BLITTER_CONTROL2 = DTV_BLIT_DEST_CONT
  to:main::@1
main::@1: scope:[main]  from main main::@1
  main::$0 = *DTV_BLITTER_CONTROL2 & DTV_BLIT_STATUS_BUSY
  main::$1 = main::$0 != 0
  if(main::$1) goto main::@1
  to:main::@return
main::@return: scope:[main]  from main::@1
  return 
  to:@return

void __start()
__start: scope:[__start]  from
  to:__start::__init1
__start::__init1: scope:[__start]  from __start
  to:__start::@1
__start::@1: scope:[__start]  from __start::__init1
  call main 
  to:__start::@2
__start::@2: scope:[__start]  from __start::@1
  to:__start::@return
__start::@return: scope:[__start]  from __start::@2
  return 
  to:@return

SYMBOL TABLE SSA
constant byte* DTV_BLITTER_ALU = (byte*)$d33e
constant byte* const DTV_BLITTER_CONTROL = (byte*)$d33a
constant byte* const DTV_BLITTER_CONTROL2 = (byte*)$d33f
constant byte* const DTV_BLITTER_DEST_HI = (byte*)$d332
constant byte* const DTV_BLITTER_DEST_LIN_HI = (byte*)$d336
constant byte* const DTV_BLITTER_DEST_LIN_LO = (byte*)$d335
constant byte* const DTV_BLITTER_DEST_LO = (byte*)$d330
constant byte* const DTV_BLITTER_DEST_MI = (byte*)$d331
constant byte* const DTV_BLITTER_DEST_MOD_HI = (byte*)$d334
constant byte* const DTV_BLITTER_DEST_MOD_LO = (byte*)$d333
constant byte* const DTV_BLITTER_DEST_STEP = (byte*)$d337
constant byte* const DTV_BLITTER_LEN_HI = (byte*)$d339
constant byte* const DTV_BLITTER_LEN_LO = (byte*)$d338
constant byte* const DTV_BLITTER_SRCA_HI = (byte*)$d322
constant byte* const DTV_BLITTER_SRCA_LIN_HI = (byte*)$d326
constant byte* const DTV_BLITTER_SRCA_LIN_LO = (byte*)$d325
constant byte* const DTV_BLITTER_SRCA_LO = (byte*)$d320
constant byte* const DTV_BLITTER_SRCA_MI = (byte*)$d321
constant byte* const DTV_BLITTER_SRCA_MOD_HI = (byte*)$d324
constant byte* const DTV_BLITTER_SRCA_MOD_LO = (byte*)$d323
constant byte* const DTV_BLITTER_SRCA_STEP = (byte*)$d327
constant byte* const DTV_BLITTER_SRCB_HI = (byte*)$d32a
constant byte* const DTV_BLITTER_SRCB_LIN_HI = (byte*)$d32e
constant byte* const DTV_BLITTER_SRCB_LIN_LO = (byte*)$d32d
constant byte* const DTV_BLITTER_SRCB_LO = (byte*)$d328
constant byte* const DTV_BLITTER_SRCB_MI = (byte*)$d329
constant byte* const DTV_BLITTER_SRCB_MOD_HI = (byte*)$d32c
constant byte* const DTV_BLITTER_SRCB_MOD_LO = (byte*)$d32b
constant byte* const DTV_BLITTER_SRCB_STEP = (byte*)$d32f
constant byte* const DTV_BLITTER_TRANSPARANCY = (byte*)$d33b
constant const byte DTV_BLIT_ADD = $30
constant const byte DTV_BLIT_CLEAR_IRQ = 1
constant const byte DTV_BLIT_DEST_CONT = 8
constant const byte DTV_BLIT_DEST_FWD = 8
constant const byte DTV_BLIT_FORCE_START = 1
constant const byte DTV_BLIT_SRCA_FWD = 2
constant const byte DTV_BLIT_SRCB_FWD = 4
constant const byte DTV_BLIT_STATUS_BUSY = 1
constant const byte DTV_BLIT_TRANSPARANCY_NONE = 0
constant byte* const DTV_FEATURE = (byte*)$d03f
constant const byte DTV_FEATURE_ENABLE = 1
constant byte* const SCREEN = (byte*)$400
constant const byte* SRCA[]  = "camelot rules!"
constant const byte* SRCB[]  = { $80 }
void __start()
void main()
byte~ main::$0
bool~ main::$1

Adding number conversion cast (unumber) 0 in *DTV_BLITTER_SRCA_HI = 0
Adding number conversion cast (unumber) 0 in *DTV_BLITTER_SRCA_MOD_LO = 0
Adding number conversion cast (unumber) 0 in *DTV_BLITTER_SRCA_MOD_HI = 0
Adding number conversion cast (unumber) 1 in *DTV_BLITTER_SRCA_STEP = 1
Adding number conversion cast (unumber) 0 in *DTV_BLITTER_SRCB_HI = 0
Adding number conversion cast (unumber) 0 in *DTV_BLITTER_SRCB_MOD_LO = 0
Adding number conversion cast (unumber) 0 in *DTV_BLITTER_SRCB_MOD_HI = 0
Adding number conversion cast (unumber) 0 in *DTV_BLITTER_SRCB_STEP = 0
Adding number conversion cast (unumber) 5 in *DTV_BLITTER_DEST_LO = <SCREEN+$28+5
Adding number conversion cast (unumber) $28 in *DTV_BLITTER_DEST_LO = <SCREEN+$28+(unumber)5
Adding number conversion cast (unumber) 5 in *DTV_BLITTER_DEST_MI = >SCREEN+$28+5
Adding number conversion cast (unumber) $28 in *DTV_BLITTER_DEST_MI = >SCREEN+$28+(unumber)5
Adding number conversion cast (unumber) 0 in *DTV_BLITTER_DEST_HI = 0
Adding number conversion cast (unumber) $10 in *DTV_BLITTER_DEST_STEP = $10
Adding number conversion cast (unumber) <$14*$a in *DTV_BLITTER_LEN_LO = <$14*$a
Adding number conversion cast (unumber) $14 in *DTV_BLITTER_LEN_LO = ((unumber)) <$14*$a
Adding number conversion cast (unumber) >$14*$a in *DTV_BLITTER_LEN_HI = >$14*$a
Adding number conversion cast (unumber) $14 in *DTV_BLITTER_LEN_HI = ((unumber)) >$14*$a
Adding number conversion cast (unumber) 0 in main::$1 = main::$0 != 0
Successful SSA optimization PassNAddNumberTypeConversions
Inlining cast *DTV_BLITTER_SRCA_HI = (unumber)0
Inlining cast *DTV_BLITTER_SRCA_MOD_LO = (unumber)0
Inlining cast *DTV_BLITTER_SRCA_MOD_HI = (unumber)0
Inlining cast *DTV_BLITTER_SRCA_STEP = (unumber)1
Inlining cast *DTV_BLITTER_SRCB_HI = (unumber)0
Inlining cast *DTV_BLITTER_SRCB_MOD_LO = (unumber)0
Inlining cast *DTV_BLITTER_SRCB_MOD_HI = (unumber)0
Inlining cast *DTV_BLITTER_SRCB_STEP = (unumber)0
Inlining cast *DTV_BLITTER_DEST_HI = (unumber)0
Inlining cast *DTV_BLITTER_DEST_STEP = (unumber)$10
Inlining cast *DTV_BLITTER_LEN_LO = (unumber)<(unumber)$14*$a
Inlining cast *DTV_BLITTER_LEN_HI = (unumber)>(unumber)$14*$a
Successful SSA optimization Pass2InlineCast
Simplifying constant pointer cast (byte*) 53311
Simplifying constant pointer cast (byte*) 54048
Simplifying constant pointer cast (byte*) 54049
Simplifying constant pointer cast (byte*) 54050
Simplifying constant pointer cast (byte*) 54051
Simplifying constant pointer cast (byte*) 54052
Simplifying constant pointer cast (byte*) 54053
Simplifying constant pointer cast (byte*) 54054
Simplifying constant pointer cast (byte*) 54055
Simplifying constant pointer cast (byte*) 54056
Simplifying constant pointer cast (byte*) 54057
Simplifying constant pointer cast (byte*) 54058
Simplifying constant pointer cast (byte*) 54059
Simplifying constant pointer cast (byte*) 54060
Simplifying constant pointer cast (byte*) 54061
Simplifying constant pointer cast (byte*) 54062
Simplifying constant pointer cast (byte*) 54063
Simplifying constant pointer cast (byte*) 54064
Simplifying constant pointer cast (byte*) 54065
Simplifying constant pointer cast (byte*) 54066
Simplifying constant pointer cast (byte*) 54067
Simplifying constant pointer cast (byte*) 54068
Simplifying constant pointer cast (byte*) 54069
Simplifying constant pointer cast (byte*) 54070
Simplifying constant pointer cast (byte*) 54071
Simplifying constant pointer cast (byte*) 54072
Simplifying constant pointer cast (byte*) 54073
Simplifying constant pointer cast (byte*) 54074
Simplifying constant pointer cast (byte*) 54075
Simplifying constant pointer cast (byte*) 54079
Simplifying constant pointer cast (byte*) 1024
Simplifying constant pointer cast (byte*) 54078
Simplifying constant integer cast 0
Simplifying constant integer cast 0
Simplifying constant integer cast 0
Simplifying constant integer cast 1
Simplifying constant integer cast 0
Simplifying constant integer cast 0
Simplifying constant integer cast 0
Simplifying constant integer cast 0
Simplifying constant integer cast $28
Simplifying constant integer cast 5
Simplifying constant integer cast $28
Simplifying constant integer cast 5
Simplifying constant integer cast 0
Simplifying constant integer cast $10
Simplifying constant integer cast <(unumber)$14*$a
Simplifying constant integer cast $14
Simplifying constant integer cast >(unumber)$14*$a
Simplifying constant integer cast $14
Simplifying constant integer cast 0
Successful SSA optimization PassNCastSimplification
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) 1
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) $28
Finalized unsigned number type (byte) 5
Finalized unsigned number type (byte) $28
Finalized unsigned number type (byte) 5
Finalized unsigned number type (byte) 0
Finalized unsigned number type (byte) $10
Finalized unsigned number type (byte) $14
Finalized unsigned number type (byte) $14
Finalized unsigned number type (byte) 0
Successful SSA optimization PassNFinalizeNumberTypeConversions
Simple Condition main::$1 [34] if(main::$0!=0) goto main::@1
Successful SSA optimization Pass2ConditionalJumpSimplification
Simplifying constant evaluating to zero <$100 in [7] *DTV_BLITTER_SRCA_LIN_LO = <$100
Simplifying constant evaluating to zero <$100 in [15] *DTV_BLITTER_SRCB_LIN_LO = <$100
Simplifying constant evaluating to zero >$15 in [22] *DTV_BLITTER_DEST_MOD_HI = >$15
Simplifying constant evaluating to zero >$13 in [24] *DTV_BLITTER_DEST_LIN_HI = >$13
Simplifying constant evaluating to zero >$14*$a in [27] *DTV_BLITTER_LEN_HI = >$14*$a
Successful SSA optimization PassNSimplifyConstantZero
Removing unused procedure __start
Removing unused procedure block __start
Removing unused procedure block __start::__init1
Removing unused procedure block __start::@1
Removing unused procedure block __start::@2
Removing unused procedure block __start::@return
Successful SSA optimization PassNEliminateEmptyStart
CALL GRAPH

Created 0 initial phi equivalence classes
Coalesced down to 0 phi equivalence classes

FINAL CONTROL FLOW GRAPH

void main()
main: scope:[main]  from
  [0] *DTV_FEATURE = DTV_FEATURE_ENABLE
  [1] *DTV_BLITTER_CONTROL2 = DTV_BLIT_CLEAR_IRQ
  [2] *DTV_BLITTER_SRCA_LO = <SRCA
  [3] *DTV_BLITTER_SRCA_MI = >SRCA
  [4] *DTV_BLITTER_SRCA_HI = 0
  [5] *DTV_BLITTER_SRCA_MOD_LO = 0
  [6] *DTV_BLITTER_SRCA_MOD_HI = 0
  [7] *DTV_BLITTER_SRCA_LIN_LO = 0
  [8] *DTV_BLITTER_SRCA_LIN_HI = >$100
  [9] *DTV_BLITTER_SRCA_STEP = 1
  [10] *DTV_BLITTER_SRCB_LO = <SRCB
  [11] *DTV_BLITTER_SRCB_MI = >SRCB
  [12] *DTV_BLITTER_SRCB_HI = 0
  [13] *DTV_BLITTER_SRCB_MOD_LO = 0
  [14] *DTV_BLITTER_SRCB_MOD_HI = 0
  [15] *DTV_BLITTER_SRCB_LIN_LO = 0
  [16] *DTV_BLITTER_SRCB_LIN_HI = >$100
  [17] *DTV_BLITTER_SRCB_STEP = 0
  [18] *DTV_BLITTER_DEST_LO = <SCREEN+$28+5
  [19] *DTV_BLITTER_DEST_MI = >SCREEN+$28+5
  [20] *DTV_BLITTER_DEST_HI = 0
  [21] *DTV_BLITTER_DEST_MOD_LO = <$15
  [22] *DTV_BLITTER_DEST_MOD_HI = 0
  [23] *DTV_BLITTER_DEST_LIN_LO = <$13
  [24] *DTV_BLITTER_DEST_LIN_HI = 0
  [25] *DTV_BLITTER_DEST_STEP = $10
  [26] *DTV_BLITTER_LEN_LO = <$14*$a
  [27] *DTV_BLITTER_LEN_HI = 0
  [28] *DTV_BLITTER_ALU = DTV_BLIT_ADD
  [29] *DTV_BLITTER_TRANSPARANCY = DTV_BLIT_TRANSPARANCY_NONE
  [30] *DTV_BLITTER_CONTROL = DTV_BLIT_FORCE_START|DTV_BLIT_SRCA_FWD|DTV_BLIT_SRCB_FWD|DTV_BLIT_DEST_FWD
  [31] *DTV_BLITTER_CONTROL2 = DTV_BLIT_DEST_CONT
  to:main::@1
main::@1: scope:[main]  from main main::@1
  [32] main::$0 = *DTV_BLITTER_CONTROL2 & DTV_BLIT_STATUS_BUSY
  [33] if(main::$0!=0) goto main::@1
  to:main::@return
main::@return: scope:[main]  from main::@1
  [34] return 
  to:@return


VARIABLE REGISTER WEIGHTS
void main()
byte~ main::$0 22.0

Initial phi equivalence classes
Added variable main::$0 to live range equivalence class [ main::$0 ]
Complete equivalence classes
[ main::$0 ]
Allocated zp[1]:2 [ main::$0 ]
REGISTER UPLIFT POTENTIAL REGISTERS
Statement [0] *DTV_FEATURE = DTV_FEATURE_ENABLE [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [1] *DTV_BLITTER_CONTROL2 = DTV_BLIT_CLEAR_IRQ [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [2] *DTV_BLITTER_SRCA_LO = <SRCA [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [3] *DTV_BLITTER_SRCA_MI = >SRCA [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [4] *DTV_BLITTER_SRCA_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [5] *DTV_BLITTER_SRCA_MOD_LO = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [6] *DTV_BLITTER_SRCA_MOD_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [7] *DTV_BLITTER_SRCA_LIN_LO = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [8] *DTV_BLITTER_SRCA_LIN_HI = >$100 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [9] *DTV_BLITTER_SRCA_STEP = 1 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [10] *DTV_BLITTER_SRCB_LO = <SRCB [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [11] *DTV_BLITTER_SRCB_MI = >SRCB [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [12] *DTV_BLITTER_SRCB_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [13] *DTV_BLITTER_SRCB_MOD_LO = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [14] *DTV_BLITTER_SRCB_MOD_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [15] *DTV_BLITTER_SRCB_LIN_LO = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [16] *DTV_BLITTER_SRCB_LIN_HI = >$100 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [17] *DTV_BLITTER_SRCB_STEP = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [18] *DTV_BLITTER_DEST_LO = <SCREEN+$28+5 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [19] *DTV_BLITTER_DEST_MI = >SCREEN+$28+5 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [20] *DTV_BLITTER_DEST_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [21] *DTV_BLITTER_DEST_MOD_LO = <$15 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [22] *DTV_BLITTER_DEST_MOD_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [23] *DTV_BLITTER_DEST_LIN_LO = <$13 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [24] *DTV_BLITTER_DEST_LIN_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [25] *DTV_BLITTER_DEST_STEP = $10 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [26] *DTV_BLITTER_LEN_LO = <$14*$a [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [27] *DTV_BLITTER_LEN_HI = 0 [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [28] *DTV_BLITTER_ALU = DTV_BLIT_ADD [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [29] *DTV_BLITTER_TRANSPARANCY = DTV_BLIT_TRANSPARANCY_NONE [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [30] *DTV_BLITTER_CONTROL = DTV_BLIT_FORCE_START|DTV_BLIT_SRCA_FWD|DTV_BLIT_SRCB_FWD|DTV_BLIT_DEST_FWD [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [31] *DTV_BLITTER_CONTROL2 = DTV_BLIT_DEST_CONT [ ] (  [ ] { }  ) always clobbers reg byte a 
Statement [32] main::$0 = *DTV_BLITTER_CONTROL2 & DTV_BLIT_STATUS_BUSY [ main::$0 ] (  [ main::$0 ] { }  ) always clobbers reg byte a 
Potential registers zp[1]:2 [ main::$0 ] : zp[1]:2 , reg byte a , reg byte x , reg byte y , 

REGISTER UPLIFT SCOPES
Uplift Scope [main] 22: zp[1]:2 [ main::$0 ] 
Uplift Scope [MOS6526_CIA] 
Uplift Scope [MOS6569_VICII] 
Uplift Scope [MOS6581_SID] 
Uplift Scope [] 

Uplifting [main] best 336 combination reg byte a [ main::$0 ] 
Uplifting [MOS6526_CIA] best 336 combination 
Uplifting [MOS6569_VICII] best 336 combination 
Uplifting [MOS6581_SID] best 336 combination 
Uplifting [] best 336 combination 

ASSEMBLER BEFORE OPTIMIZATION
  // File Comments
// Fill a box on the screen using the blitter
  // Upstart
  // Commodore 64 PRG executable file
.file [name="c64dtv-blitter-box.prg", type="prg", segments="Program"]
.segmentdef Program [segments="Basic, Code, Data"]
.segmentdef Basic [start=$0801]
.segmentdef Code [start=$80d]
.segmentdef Data [startAfter="Code"]
.segment Basic
:BasicUpstart(main)
  // Global Constants & labels
  .const DTV_FEATURE_ENABLE = 1
  // Bit[0] Force Start Strobe when set
  .const DTV_BLIT_FORCE_START = 1
  // Bit[1] Source A Direction Positive when set
  .const DTV_BLIT_SRCA_FWD = 2
  // Bit[2] Source B Direction Positive when set
  .const DTV_BLIT_SRCB_FWD = 4
  // Bit[3] Destination Direction Positive when set
  .const DTV_BLIT_DEST_FWD = 8
  // No transparancy
  // Bit[2]==Bit[1]==0: write in any case
  .const DTV_BLIT_TRANSPARANCY_NONE = 0
  .const DTV_BLIT_ADD = $30
  // Bit[0] Clear Blitter IRQ
  .const DTV_BLIT_CLEAR_IRQ = 1
  // Bit[3] Destination Continue
  .const DTV_BLIT_DEST_CONT = 8
  // Bit[0] Busy when set (When reading)
  .const DTV_BLIT_STATUS_BUSY = 1
  // Feature enables or disables the extra C64 DTV features
  .label DTV_FEATURE = $d03f
  // Blitter Source A Start
  .label DTV_BLITTER_SRCA_LO = $d320
  .label DTV_BLITTER_SRCA_MI = $d321
  .label DTV_BLITTER_SRCA_HI = $d322
  // Blitter Source A Modulo
  .label DTV_BLITTER_SRCA_MOD_LO = $d323
  .label DTV_BLITTER_SRCA_MOD_HI = $d324
  // Blitter Source A Line Length
  .label DTV_BLITTER_SRCA_LIN_LO = $d325
  .label DTV_BLITTER_SRCA_LIN_HI = $d326
  // Blitter Source A Step ([7:4] integral part, [3:0] fractional part)
  .label DTV_BLITTER_SRCA_STEP = $d327
  // Blitter Source B Start
  .label DTV_BLITTER_SRCB_LO = $d328
  .label DTV_BLITTER_SRCB_MI = $d329
  .label DTV_BLITTER_SRCB_HI = $d32a
  // Blitter Source B Modulo
  .label DTV_BLITTER_SRCB_MOD_LO = $d32b
  .label DTV_BLITTER_SRCB_MOD_HI = $d32c
  // Blitter Source B Line Length
  .label DTV_BLITTER_SRCB_LIN_LO = $d32d
  .label DTV_BLITTER_SRCB_LIN_HI = $d32e
  // Blitter Source B Step ([7:4] integral part, [3:0] fractional part)
  .label DTV_BLITTER_SRCB_STEP = $d32f
  // Blitter Destination Start
  .label DTV_BLITTER_DEST_LO = $d330
  .label DTV_BLITTER_DEST_MI = $d331
  .label DTV_BLITTER_DEST_HI = $d332
  // Blitter Source B Modulo
  .label DTV_BLITTER_DEST_MOD_LO = $d333
  .label DTV_BLITTER_DEST_MOD_HI = $d334
  // Blitter Source B Line Length
  .label DTV_BLITTER_DEST_LIN_LO = $d335
  .label DTV_BLITTER_DEST_LIN_HI = $d336
  // Blitter Source B Step ([7:4] integral part, [3:0] fractional part)
  .label DTV_BLITTER_DEST_STEP = $d337
  // Blitter Blit Length
  .label DTV_BLITTER_LEN_LO = $d338
  .label DTV_BLITTER_LEN_HI = $d339
  // Blitter Control
  .label DTV_BLITTER_CONTROL = $d33a
  // Blitter Transparency
  .label DTV_BLITTER_TRANSPARANCY = $d33b
  // Blitter Control 2
  .label DTV_BLITTER_CONTROL2 = $d33f
  .label SCREEN = $400
  // Controls the ALU operation
  .label DTV_BLITTER_ALU = $d33e
.segment Code
  // main
main: {
    // [0] *DTV_FEATURE = DTV_FEATURE_ENABLE -- _deref_pbuc1=vbuc2 
    lda #DTV_FEATURE_ENABLE
    sta DTV_FEATURE
    // [1] *DTV_BLITTER_CONTROL2 = DTV_BLIT_CLEAR_IRQ -- _deref_pbuc1=vbuc2 
    // Instruct blitter not to continue previous blit
    lda #DTV_BLIT_CLEAR_IRQ
    sta DTV_BLITTER_CONTROL2
    // [2] *DTV_BLITTER_SRCA_LO = <SRCA -- _deref_pbuc1=vbuc2 
    lda #<SRCA
    sta DTV_BLITTER_SRCA_LO
    // [3] *DTV_BLITTER_SRCA_MI = >SRCA -- _deref_pbuc1=vbuc2 
    lda #>SRCA
    sta DTV_BLITTER_SRCA_MI
    // [4] *DTV_BLITTER_SRCA_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCA_HI
    // [5] *DTV_BLITTER_SRCA_MOD_LO = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCA_MOD_LO
    // [6] *DTV_BLITTER_SRCA_MOD_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCA_MOD_HI
    // [7] *DTV_BLITTER_SRCA_LIN_LO = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCA_LIN_LO
    // [8] *DTV_BLITTER_SRCA_LIN_HI = >$100 -- _deref_pbuc1=vbuc2 
    lda #>$100
    sta DTV_BLITTER_SRCA_LIN_HI
    // [9] *DTV_BLITTER_SRCA_STEP = 1 -- _deref_pbuc1=vbuc2 
    lda #1
    sta DTV_BLITTER_SRCA_STEP
    // [10] *DTV_BLITTER_SRCB_LO = <SRCB -- _deref_pbuc1=vbuc2 
    // Step 0.0
    lda #<SRCB
    sta DTV_BLITTER_SRCB_LO
    // [11] *DTV_BLITTER_SRCB_MI = >SRCB -- _deref_pbuc1=vbuc2 
    lda #>SRCB
    sta DTV_BLITTER_SRCB_MI
    // [12] *DTV_BLITTER_SRCB_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCB_HI
    // [13] *DTV_BLITTER_SRCB_MOD_LO = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCB_MOD_LO
    // [14] *DTV_BLITTER_SRCB_MOD_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCB_MOD_HI
    // [15] *DTV_BLITTER_SRCB_LIN_LO = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCB_LIN_LO
    // [16] *DTV_BLITTER_SRCB_LIN_HI = >$100 -- _deref_pbuc1=vbuc2 
    lda #>$100
    sta DTV_BLITTER_SRCB_LIN_HI
    // [17] *DTV_BLITTER_SRCB_STEP = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCB_STEP
    // [18] *DTV_BLITTER_DEST_LO = <SCREEN+$28+5 -- _deref_pbuc1=vbuc2 
    // Step 0.0
    lda #<SCREEN+$28+5
    sta DTV_BLITTER_DEST_LO
    // [19] *DTV_BLITTER_DEST_MI = >SCREEN+$28+5 -- _deref_pbuc1=vbuc2 
    lda #>SCREEN+$28+5
    sta DTV_BLITTER_DEST_MI
    // [20] *DTV_BLITTER_DEST_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_DEST_HI
    // [21] *DTV_BLITTER_DEST_MOD_LO = <$15 -- _deref_pbuc1=vbuc2 
    lda #<$15
    sta DTV_BLITTER_DEST_MOD_LO
    // [22] *DTV_BLITTER_DEST_MOD_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_DEST_MOD_HI
    // [23] *DTV_BLITTER_DEST_LIN_LO = <$13 -- _deref_pbuc1=vbuc2 
    lda #<$13
    sta DTV_BLITTER_DEST_LIN_LO
    // [24] *DTV_BLITTER_DEST_LIN_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_DEST_LIN_HI
    // [25] *DTV_BLITTER_DEST_STEP = $10 -- _deref_pbuc1=vbuc2 
    lda #$10
    sta DTV_BLITTER_DEST_STEP
    // [26] *DTV_BLITTER_LEN_LO = <$14*$a -- _deref_pbuc1=vbuc2 
    // Step 1.0
    lda #<$14*$a
    sta DTV_BLITTER_LEN_LO
    // [27] *DTV_BLITTER_LEN_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_LEN_HI
    // [28] *DTV_BLITTER_ALU = DTV_BLIT_ADD -- _deref_pbuc1=vbuc2 
    lda #DTV_BLIT_ADD
    sta DTV_BLITTER_ALU
    // [29] *DTV_BLITTER_TRANSPARANCY = DTV_BLIT_TRANSPARANCY_NONE -- _deref_pbuc1=vbuc2 
    lda #DTV_BLIT_TRANSPARANCY_NONE
    sta DTV_BLITTER_TRANSPARANCY
    // [30] *DTV_BLITTER_CONTROL = DTV_BLIT_FORCE_START|DTV_BLIT_SRCA_FWD|DTV_BLIT_SRCB_FWD|DTV_BLIT_DEST_FWD -- _deref_pbuc1=vbuc2 
    // Start blitter
    lda #DTV_BLIT_FORCE_START|DTV_BLIT_SRCA_FWD|DTV_BLIT_SRCB_FWD|DTV_BLIT_DEST_FWD
    sta DTV_BLITTER_CONTROL
    // [31] *DTV_BLITTER_CONTROL2 = DTV_BLIT_DEST_CONT -- _deref_pbuc1=vbuc2 
    // Instruct blitter to continue at DEST and restart SRC A/B
    lda #DTV_BLIT_DEST_CONT
    sta DTV_BLITTER_CONTROL2
    jmp __b1
  // wait til blitter is ready
    // main::@1
  __b1:
    // [32] main::$0 = *DTV_BLITTER_CONTROL2 & DTV_BLIT_STATUS_BUSY -- vbuaa=_deref_pbuc1_band_vbuc2 
    lda #DTV_BLIT_STATUS_BUSY
    and DTV_BLITTER_CONTROL2
    // [33] if(main::$0!=0) goto main::@1 -- vbuaa_neq_0_then_la1 
    cmp #0
    bne __b1
    jmp __breturn
    // main::@return
  __breturn:
    // [34] return 
    rts
}
  // File Data
.segment Data
  SRCA: .text "camelot rules!"
  .byte 0
  SRCB: .byte $80

ASSEMBLER OPTIMIZATIONS
Removing instruction jmp __b1
Removing instruction jmp __breturn
Succesful ASM optimization Pass5NextJumpElimination
Removing instruction lda #0
Removing instruction lda #0
Removing instruction lda #0
Removing instruction lda #0
Removing instruction lda #0
Removing instruction lda #0
Succesful ASM optimization Pass5UnnecesaryLoadElimination
Removing instruction __breturn:
Succesful ASM optimization Pass5UnusedLabelElimination

FINAL SYMBOL TABLE
constant byte* DTV_BLITTER_ALU = (byte*) 54078
constant byte* const DTV_BLITTER_CONTROL = (byte*) 54074
constant byte* const DTV_BLITTER_CONTROL2 = (byte*) 54079
constant byte* const DTV_BLITTER_DEST_HI = (byte*) 54066
constant byte* const DTV_BLITTER_DEST_LIN_HI = (byte*) 54070
constant byte* const DTV_BLITTER_DEST_LIN_LO = (byte*) 54069
constant byte* const DTV_BLITTER_DEST_LO = (byte*) 54064
constant byte* const DTV_BLITTER_DEST_MI = (byte*) 54065
constant byte* const DTV_BLITTER_DEST_MOD_HI = (byte*) 54068
constant byte* const DTV_BLITTER_DEST_MOD_LO = (byte*) 54067
constant byte* const DTV_BLITTER_DEST_STEP = (byte*) 54071
constant byte* const DTV_BLITTER_LEN_HI = (byte*) 54073
constant byte* const DTV_BLITTER_LEN_LO = (byte*) 54072
constant byte* const DTV_BLITTER_SRCA_HI = (byte*) 54050
constant byte* const DTV_BLITTER_SRCA_LIN_HI = (byte*) 54054
constant byte* const DTV_BLITTER_SRCA_LIN_LO = (byte*) 54053
constant byte* const DTV_BLITTER_SRCA_LO = (byte*) 54048
constant byte* const DTV_BLITTER_SRCA_MI = (byte*) 54049
constant byte* const DTV_BLITTER_SRCA_MOD_HI = (byte*) 54052
constant byte* const DTV_BLITTER_SRCA_MOD_LO = (byte*) 54051
constant byte* const DTV_BLITTER_SRCA_STEP = (byte*) 54055
constant byte* const DTV_BLITTER_SRCB_HI = (byte*) 54058
constant byte* const DTV_BLITTER_SRCB_LIN_HI = (byte*) 54062
constant byte* const DTV_BLITTER_SRCB_LIN_LO = (byte*) 54061
constant byte* const DTV_BLITTER_SRCB_LO = (byte*) 54056
constant byte* const DTV_BLITTER_SRCB_MI = (byte*) 54057
constant byte* const DTV_BLITTER_SRCB_MOD_HI = (byte*) 54060
constant byte* const DTV_BLITTER_SRCB_MOD_LO = (byte*) 54059
constant byte* const DTV_BLITTER_SRCB_STEP = (byte*) 54063
constant byte* const DTV_BLITTER_TRANSPARANCY = (byte*) 54075
constant const byte DTV_BLIT_ADD = $30
constant const byte DTV_BLIT_CLEAR_IRQ = 1
constant const byte DTV_BLIT_DEST_CONT = 8
constant const byte DTV_BLIT_DEST_FWD = 8
constant const byte DTV_BLIT_FORCE_START = 1
constant const byte DTV_BLIT_SRCA_FWD = 2
constant const byte DTV_BLIT_SRCB_FWD = 4
constant const byte DTV_BLIT_STATUS_BUSY = 1
constant const byte DTV_BLIT_TRANSPARANCY_NONE = 0
constant byte* const DTV_FEATURE = (byte*) 53311
constant const byte DTV_FEATURE_ENABLE = 1
constant byte* const SCREEN = (byte*) 1024
constant const byte* SRCA[]  = "camelot rules!"
constant const byte* SRCB[]  = { $80 }
void main()
byte~ main::$0 reg byte a 22.0

reg byte a [ main::$0 ]


FINAL ASSEMBLER
Score: 291

  // File Comments
// Fill a box on the screen using the blitter
  // Upstart
  // Commodore 64 PRG executable file
.file [name="c64dtv-blitter-box.prg", type="prg", segments="Program"]
.segmentdef Program [segments="Basic, Code, Data"]
.segmentdef Basic [start=$0801]
.segmentdef Code [start=$80d]
.segmentdef Data [startAfter="Code"]
.segment Basic
:BasicUpstart(main)
  // Global Constants & labels
  .const DTV_FEATURE_ENABLE = 1
  // Bit[0] Force Start Strobe when set
  .const DTV_BLIT_FORCE_START = 1
  // Bit[1] Source A Direction Positive when set
  .const DTV_BLIT_SRCA_FWD = 2
  // Bit[2] Source B Direction Positive when set
  .const DTV_BLIT_SRCB_FWD = 4
  // Bit[3] Destination Direction Positive when set
  .const DTV_BLIT_DEST_FWD = 8
  // No transparancy
  // Bit[2]==Bit[1]==0: write in any case
  .const DTV_BLIT_TRANSPARANCY_NONE = 0
  .const DTV_BLIT_ADD = $30
  // Bit[0] Clear Blitter IRQ
  .const DTV_BLIT_CLEAR_IRQ = 1
  // Bit[3] Destination Continue
  .const DTV_BLIT_DEST_CONT = 8
  // Bit[0] Busy when set (When reading)
  .const DTV_BLIT_STATUS_BUSY = 1
  // Feature enables or disables the extra C64 DTV features
  .label DTV_FEATURE = $d03f
  // Blitter Source A Start
  .label DTV_BLITTER_SRCA_LO = $d320
  .label DTV_BLITTER_SRCA_MI = $d321
  .label DTV_BLITTER_SRCA_HI = $d322
  // Blitter Source A Modulo
  .label DTV_BLITTER_SRCA_MOD_LO = $d323
  .label DTV_BLITTER_SRCA_MOD_HI = $d324
  // Blitter Source A Line Length
  .label DTV_BLITTER_SRCA_LIN_LO = $d325
  .label DTV_BLITTER_SRCA_LIN_HI = $d326
  // Blitter Source A Step ([7:4] integral part, [3:0] fractional part)
  .label DTV_BLITTER_SRCA_STEP = $d327
  // Blitter Source B Start
  .label DTV_BLITTER_SRCB_LO = $d328
  .label DTV_BLITTER_SRCB_MI = $d329
  .label DTV_BLITTER_SRCB_HI = $d32a
  // Blitter Source B Modulo
  .label DTV_BLITTER_SRCB_MOD_LO = $d32b
  .label DTV_BLITTER_SRCB_MOD_HI = $d32c
  // Blitter Source B Line Length
  .label DTV_BLITTER_SRCB_LIN_LO = $d32d
  .label DTV_BLITTER_SRCB_LIN_HI = $d32e
  // Blitter Source B Step ([7:4] integral part, [3:0] fractional part)
  .label DTV_BLITTER_SRCB_STEP = $d32f
  // Blitter Destination Start
  .label DTV_BLITTER_DEST_LO = $d330
  .label DTV_BLITTER_DEST_MI = $d331
  .label DTV_BLITTER_DEST_HI = $d332
  // Blitter Source B Modulo
  .label DTV_BLITTER_DEST_MOD_LO = $d333
  .label DTV_BLITTER_DEST_MOD_HI = $d334
  // Blitter Source B Line Length
  .label DTV_BLITTER_DEST_LIN_LO = $d335
  .label DTV_BLITTER_DEST_LIN_HI = $d336
  // Blitter Source B Step ([7:4] integral part, [3:0] fractional part)
  .label DTV_BLITTER_DEST_STEP = $d337
  // Blitter Blit Length
  .label DTV_BLITTER_LEN_LO = $d338
  .label DTV_BLITTER_LEN_HI = $d339
  // Blitter Control
  .label DTV_BLITTER_CONTROL = $d33a
  // Blitter Transparency
  .label DTV_BLITTER_TRANSPARANCY = $d33b
  // Blitter Control 2
  .label DTV_BLITTER_CONTROL2 = $d33f
  .label SCREEN = $400
  // Controls the ALU operation
  .label DTV_BLITTER_ALU = $d33e
.segment Code
  // main
main: {
    // *DTV_FEATURE = DTV_FEATURE_ENABLE
    // [0] *DTV_FEATURE = DTV_FEATURE_ENABLE -- _deref_pbuc1=vbuc2 
    lda #DTV_FEATURE_ENABLE
    sta DTV_FEATURE
    // *DTV_BLITTER_CONTROL2 = DTV_BLIT_CLEAR_IRQ
    // [1] *DTV_BLITTER_CONTROL2 = DTV_BLIT_CLEAR_IRQ -- _deref_pbuc1=vbuc2 
    // Instruct blitter not to continue previous blit
    lda #DTV_BLIT_CLEAR_IRQ
    sta DTV_BLITTER_CONTROL2
    // *DTV_BLITTER_SRCA_LO = <SRCA
    // [2] *DTV_BLITTER_SRCA_LO = <SRCA -- _deref_pbuc1=vbuc2 
    lda #<SRCA
    sta DTV_BLITTER_SRCA_LO
    // *DTV_BLITTER_SRCA_MI = >SRCA
    // [3] *DTV_BLITTER_SRCA_MI = >SRCA -- _deref_pbuc1=vbuc2 
    lda #>SRCA
    sta DTV_BLITTER_SRCA_MI
    // *DTV_BLITTER_SRCA_HI = 0
    // [4] *DTV_BLITTER_SRCA_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCA_HI
    // *DTV_BLITTER_SRCA_MOD_LO = 0
    // [5] *DTV_BLITTER_SRCA_MOD_LO = 0 -- _deref_pbuc1=vbuc2 
    sta DTV_BLITTER_SRCA_MOD_LO
    // *DTV_BLITTER_SRCA_MOD_HI = 0
    // [6] *DTV_BLITTER_SRCA_MOD_HI = 0 -- _deref_pbuc1=vbuc2 
    sta DTV_BLITTER_SRCA_MOD_HI
    // *DTV_BLITTER_SRCA_LIN_LO = <$100uw
    // [7] *DTV_BLITTER_SRCA_LIN_LO = 0 -- _deref_pbuc1=vbuc2 
    sta DTV_BLITTER_SRCA_LIN_LO
    // *DTV_BLITTER_SRCA_LIN_HI = >$100uw
    // [8] *DTV_BLITTER_SRCA_LIN_HI = >$100 -- _deref_pbuc1=vbuc2 
    lda #>$100
    sta DTV_BLITTER_SRCA_LIN_HI
    // *DTV_BLITTER_SRCA_STEP = 01
    // [9] *DTV_BLITTER_SRCA_STEP = 1 -- _deref_pbuc1=vbuc2 
    lda #1
    sta DTV_BLITTER_SRCA_STEP
    // *DTV_BLITTER_SRCB_LO = <SRCB
    // [10] *DTV_BLITTER_SRCB_LO = <SRCB -- _deref_pbuc1=vbuc2 
    // Step 0.0
    lda #<SRCB
    sta DTV_BLITTER_SRCB_LO
    // *DTV_BLITTER_SRCB_MI = >SRCB
    // [11] *DTV_BLITTER_SRCB_MI = >SRCB -- _deref_pbuc1=vbuc2 
    lda #>SRCB
    sta DTV_BLITTER_SRCB_MI
    // *DTV_BLITTER_SRCB_HI = 0
    // [12] *DTV_BLITTER_SRCB_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCB_HI
    // *DTV_BLITTER_SRCB_MOD_LO = 0
    // [13] *DTV_BLITTER_SRCB_MOD_LO = 0 -- _deref_pbuc1=vbuc2 
    sta DTV_BLITTER_SRCB_MOD_LO
    // *DTV_BLITTER_SRCB_MOD_HI = 0
    // [14] *DTV_BLITTER_SRCB_MOD_HI = 0 -- _deref_pbuc1=vbuc2 
    sta DTV_BLITTER_SRCB_MOD_HI
    // *DTV_BLITTER_SRCB_LIN_LO = <$100uw
    // [15] *DTV_BLITTER_SRCB_LIN_LO = 0 -- _deref_pbuc1=vbuc2 
    sta DTV_BLITTER_SRCB_LIN_LO
    // *DTV_BLITTER_SRCB_LIN_HI = >$100uw
    // [16] *DTV_BLITTER_SRCB_LIN_HI = >$100 -- _deref_pbuc1=vbuc2 
    lda #>$100
    sta DTV_BLITTER_SRCB_LIN_HI
    // *DTV_BLITTER_SRCB_STEP = $00
    // [17] *DTV_BLITTER_SRCB_STEP = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_SRCB_STEP
    // *DTV_BLITTER_DEST_LO = <SCREEN+40+5
    // [18] *DTV_BLITTER_DEST_LO = <SCREEN+$28+5 -- _deref_pbuc1=vbuc2 
    // Step 0.0
    lda #<SCREEN+$28+5
    sta DTV_BLITTER_DEST_LO
    // *DTV_BLITTER_DEST_MI = >SCREEN+40+5
    // [19] *DTV_BLITTER_DEST_MI = >SCREEN+$28+5 -- _deref_pbuc1=vbuc2 
    lda #>SCREEN+$28+5
    sta DTV_BLITTER_DEST_MI
    // *DTV_BLITTER_DEST_HI = 0
    // [20] *DTV_BLITTER_DEST_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_DEST_HI
    // *DTV_BLITTER_DEST_MOD_LO = <21uw
    // [21] *DTV_BLITTER_DEST_MOD_LO = <$15 -- _deref_pbuc1=vbuc2 
    lda #<$15
    sta DTV_BLITTER_DEST_MOD_LO
    // *DTV_BLITTER_DEST_MOD_HI = >21uw
    // [22] *DTV_BLITTER_DEST_MOD_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_DEST_MOD_HI
    // *DTV_BLITTER_DEST_LIN_LO = <19uw
    // [23] *DTV_BLITTER_DEST_LIN_LO = <$13 -- _deref_pbuc1=vbuc2 
    lda #<$13
    sta DTV_BLITTER_DEST_LIN_LO
    // *DTV_BLITTER_DEST_LIN_HI = >19uw
    // [24] *DTV_BLITTER_DEST_LIN_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_DEST_LIN_HI
    // *DTV_BLITTER_DEST_STEP = $10
    // [25] *DTV_BLITTER_DEST_STEP = $10 -- _deref_pbuc1=vbuc2 
    lda #$10
    sta DTV_BLITTER_DEST_STEP
    // *DTV_BLITTER_LEN_LO = <20*10uw
    // [26] *DTV_BLITTER_LEN_LO = <$14*$a -- _deref_pbuc1=vbuc2 
    // Step 1.0
    lda #<$14*$a
    sta DTV_BLITTER_LEN_LO
    // *DTV_BLITTER_LEN_HI = >20*10uw
    // [27] *DTV_BLITTER_LEN_HI = 0 -- _deref_pbuc1=vbuc2 
    lda #0
    sta DTV_BLITTER_LEN_HI
    // *DTV_BLITTER_ALU = DTV_BLIT_ADD
    // [28] *DTV_BLITTER_ALU = DTV_BLIT_ADD -- _deref_pbuc1=vbuc2 
    lda #DTV_BLIT_ADD
    sta DTV_BLITTER_ALU
    // *DTV_BLITTER_TRANSPARANCY = DTV_BLIT_TRANSPARANCY_NONE
    // [29] *DTV_BLITTER_TRANSPARANCY = DTV_BLIT_TRANSPARANCY_NONE -- _deref_pbuc1=vbuc2 
    lda #DTV_BLIT_TRANSPARANCY_NONE
    sta DTV_BLITTER_TRANSPARANCY
    // *DTV_BLITTER_CONTROL = DTV_BLIT_FORCE_START | DTV_BLIT_SRCA_FWD | DTV_BLIT_SRCB_FWD| DTV_BLIT_DEST_FWD
    // [30] *DTV_BLITTER_CONTROL = DTV_BLIT_FORCE_START|DTV_BLIT_SRCA_FWD|DTV_BLIT_SRCB_FWD|DTV_BLIT_DEST_FWD -- _deref_pbuc1=vbuc2 
    // Start blitter
    lda #DTV_BLIT_FORCE_START|DTV_BLIT_SRCA_FWD|DTV_BLIT_SRCB_FWD|DTV_BLIT_DEST_FWD
    sta DTV_BLITTER_CONTROL
    // *DTV_BLITTER_CONTROL2 = DTV_BLIT_DEST_CONT
    // [31] *DTV_BLITTER_CONTROL2 = DTV_BLIT_DEST_CONT -- _deref_pbuc1=vbuc2 
    // Instruct blitter to continue at DEST and restart SRC A/B
    lda #DTV_BLIT_DEST_CONT
    sta DTV_BLITTER_CONTROL2
  // wait til blitter is ready
    // main::@1
  __b1:
    // *DTV_BLITTER_CONTROL2 & DTV_BLIT_STATUS_BUSY
    // [32] main::$0 = *DTV_BLITTER_CONTROL2 & DTV_BLIT_STATUS_BUSY -- vbuaa=_deref_pbuc1_band_vbuc2 
    lda #DTV_BLIT_STATUS_BUSY
    and DTV_BLITTER_CONTROL2
    // while((*DTV_BLITTER_CONTROL2 & DTV_BLIT_STATUS_BUSY)!=0)
    // [33] if(main::$0!=0) goto main::@1 -- vbuaa_neq_0_then_la1 
    cmp #0
    bne __b1
    // main::@return
    // }
    // [34] return 
    rts
}
  // File Data
.segment Data
  SRCA: .text "camelot rules!"
  .byte 0
  SRCB: .byte $80

