Inlined call call __init 

CONTROL FLOW GRAPH SSA

void myFunc()
myFunc: scope:[myFunc]  from
  *myFunc::BORDER_COLOR = ++ *myFunc::BORDER_COLOR
  to:myFunc::@return
myFunc::@return: scope:[myFunc]  from myFunc
  return 
  to:@return

void myFunc2()
myFunc2: scope:[myFunc2]  from
  *myFunc2::BG_COLOR = ++ *myFunc2::BG_COLOR
  to:myFunc2::@return
myFunc2::@return: scope:[myFunc2]  from myFunc2
  return 
  to:@return

void main()
main: scope:[main]  from __start::@1
  funcPointer#0 = &myFunc
  call *funcPointer#0 
  funcPointer#1 = &myFunc2
  call *funcPointer#1 
  to:main::@return
main::@return: scope:[main]  from main
  funcPointer#6 = phi( main/funcPointer#1 )
  funcPointer#2 = funcPointer#6
  return 
  to:@return

void __start()
__start: scope:[__start]  from
  to:__start::__init1
__start::__init1: scope:[__start]  from __start
  funcPointer#3 = (void()*) 0
  to:__start::@1
__start::@1: scope:[__start]  from __start::__init1
  funcPointer#9 = phi( __start::__init1/funcPointer#3 )
  call main 
  to:__start::@2
__start::@2: scope:[__start]  from __start::@1
  funcPointer#7 = phi( __start::@1/funcPointer#2 )
  funcPointer#4 = funcPointer#7
  to:__start::@return
__start::@return: scope:[__start]  from __start::@2
  funcPointer#8 = phi( __start::@2/funcPointer#4 )
  funcPointer#5 = funcPointer#8
  return 
  to:@return

SYMBOL TABLE SSA
void __start()
void()* funcPointer
void()* funcPointer#0
void()* funcPointer#1
void()* funcPointer#2
void()* funcPointer#3
void()* funcPointer#4
void()* funcPointer#5
void()* funcPointer#6
void()* funcPointer#7
void()* funcPointer#8
void()* funcPointer#9
void main()
void myFunc()
constant byte* const myFunc::BORDER_COLOR = (byte*)$d020
void myFunc2()
constant byte* const myFunc2::BG_COLOR = (byte*)$d021

Simplifying constant pointer cast (byte*) 53280
Simplifying constant pointer cast (byte*) 53281
Successful SSA optimization PassNCastSimplification
Alias funcPointer#1 = funcPointer#6 funcPointer#2 
Alias funcPointer#3 = funcPointer#9 
Alias funcPointer#4 = funcPointer#7 funcPointer#8 funcPointer#5 
Successful SSA optimization Pass2AliasElimination
Identical Phi Values funcPointer#4 funcPointer#1
Successful SSA optimization Pass2IdenticalPhiElimination
Constant funcPointer#0 = &myFunc
Constant funcPointer#1 = &myFunc2
Constant funcPointer#3 = (void()*) 0
Successful SSA optimization Pass2ConstantIdentification
Replacing constant pointer function [5] call myFunc 
Replacing constant pointer function [7] call myFunc2 
Successful SSA optimization Pass2ConstantCallPointerIdentification
Eliminating unused constant funcPointer#0
Eliminating unused constant funcPointer#1
Eliminating unused constant funcPointer#3
Successful SSA optimization PassNEliminateUnusedVars
Removing unused procedure __start
Removing unused procedure block __start
Removing unused procedure block __start::__init1
Removing unused procedure block __start::@1
Removing unused procedure block __start::@2
Removing unused procedure block __start::@return
Successful SSA optimization PassNEliminateEmptyStart
Adding NOP phi() at start of main
CALL GRAPH
Calls in [main] to myFunc:1 myFunc2:2 

Created 0 initial phi equivalence classes
Coalesced down to 0 phi equivalence classes
Adding NOP phi() at start of main

FINAL CONTROL FLOW GRAPH

void main()
main: scope:[main]  from
  [0] phi()
  [1] call myFunc 
  [2] call myFunc2 
  to:main::@return
main::@return: scope:[main]  from main
  [3] return 
  to:@return

__stackcall void myFunc2()
myFunc2: scope:[myFunc2]  from main
  [4] *myFunc2::BG_COLOR = ++ *myFunc2::BG_COLOR
  to:myFunc2::@return
myFunc2::@return: scope:[myFunc2]  from myFunc2
  [5] return 
  to:@return

__stackcall void myFunc()
myFunc: scope:[myFunc]  from
  [6] *myFunc::BORDER_COLOR = ++ *myFunc::BORDER_COLOR
  to:myFunc::@return
myFunc::@return: scope:[myFunc]  from myFunc
  [7] return 
  to:@return


VARIABLE REGISTER WEIGHTS
void()* funcPointer
void main()
__stackcall void myFunc()
__stackcall void myFunc2()

Initial phi equivalence classes
Complete equivalence classes
REGISTER UPLIFT POTENTIAL REGISTERS

REGISTER UPLIFT SCOPES
Uplift Scope [myFunc] 
Uplift Scope [myFunc2] 
Uplift Scope [main] 
Uplift Scope [] 

Uplifting [myFunc] best 51 combination 
Uplifting [myFunc2] best 51 combination 
Uplifting [main] best 51 combination 
Uplifting [] best 51 combination 

ASSEMBLER BEFORE OPTIMIZATION
  // File Comments
// Tests calling through pointers to non-args no-return functions
  // Upstart
  // Commodore 64 PRG executable file
.file [name="function-pointer-noarg-call-11.prg", type="prg", segments="Program"]
.segmentdef Program [segments="Basic, Code, Data"]
.segmentdef Basic [start=$0801]
.segmentdef Code [start=$80d]
.segmentdef Data [startAfter="Code"]
.segment Basic
:BasicUpstart(main)
  // Global Constants & labels
.segment Code
  // main
main: {
    // [1] call myFunc 
    jsr myFunc
    // [2] call myFunc2 
    jsr myFunc2
    jmp __breturn
    // main::@return
  __breturn:
    // [3] return 
    rts
}
  // myFunc2
myFunc2: {
    .label BG_COLOR = $d021
    // [4] *myFunc2::BG_COLOR = ++ *myFunc2::BG_COLOR -- _deref_pbuc1=_inc__deref_pbuc1 
    inc BG_COLOR
    jmp __breturn
    // myFunc2::@return
  __breturn:
    // [5] return 
    rts
}
  // myFunc
myFunc: {
    .label BORDER_COLOR = $d020
    // [6] *myFunc::BORDER_COLOR = ++ *myFunc::BORDER_COLOR -- _deref_pbuc1=_inc__deref_pbuc1 
    inc BORDER_COLOR
    jmp __breturn
    // myFunc::@return
  __breturn:
    // [7] return 
    rts
}
  // File Data

ASSEMBLER OPTIMIZATIONS
Removing instruction jmp __breturn
Removing instruction jmp __breturn
Removing instruction jmp __breturn
Succesful ASM optimization Pass5NextJumpElimination
Removing instruction __breturn:
Removing instruction __breturn:
Removing instruction __breturn:
Succesful ASM optimization Pass5UnusedLabelElimination

FINAL SYMBOL TABLE
void()* funcPointer
void main()
__stackcall void myFunc()
constant byte* const myFunc::BORDER_COLOR = (byte*) 53280
__stackcall void myFunc2()
constant byte* const myFunc2::BG_COLOR = (byte*) 53281



FINAL ASSEMBLER
Score: 42

  // File Comments
// Tests calling through pointers to non-args no-return functions
  // Upstart
  // Commodore 64 PRG executable file
.file [name="function-pointer-noarg-call-11.prg", type="prg", segments="Program"]
.segmentdef Program [segments="Basic, Code, Data"]
.segmentdef Basic [start=$0801]
.segmentdef Code [start=$80d]
.segmentdef Data [startAfter="Code"]
.segment Basic
:BasicUpstart(main)
  // Global Constants & labels
.segment Code
  // main
main: {
    // (*funcPointer)()
    // [1] call myFunc 
    jsr myFunc
    // [2] call myFunc2 
    jsr myFunc2
    // main::@return
    // }
    // [3] return 
    rts
}
  // myFunc2
myFunc2: {
    .label BG_COLOR = $d021
    // (*BG_COLOR)++;
    // [4] *myFunc2::BG_COLOR = ++ *myFunc2::BG_COLOR -- _deref_pbuc1=_inc__deref_pbuc1 
    inc BG_COLOR
    // myFunc2::@return
    // }
    // [5] return 
    rts
}
  // myFunc
myFunc: {
    .label BORDER_COLOR = $d020
    // (*BORDER_COLOR)++;
    // [6] *myFunc::BORDER_COLOR = ++ *myFunc::BORDER_COLOR -- _deref_pbuc1=_inc__deref_pbuc1 
    inc BORDER_COLOR
    // myFunc::@return
    // }
    // [7] return 
    rts
}
  // File Data

