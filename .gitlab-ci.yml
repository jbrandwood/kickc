image: maven:3-jdk-8

compile:
  stage: build
  script:
  - "mvn package"
  artifacts:
    expire_in: 5mins
    paths:
    - target/kickc-release.zip

release:
  stage: deploy
  script:
  - "ls target"
  - "unzip -d target/release target/kickc-release.zip"
  - "mv target/release/kickc ."
  artifacts:
    name: kickc_${CI_BUILD_REF_NAME}
    paths:
    - ./kickc
