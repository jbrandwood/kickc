const struct RICOH_2A03* APU = (struct RICOH_2A03*) 16384
const byte* FLAG[]  = { $54, $55, $56, $57 }
const byte* FLOOR[]  = { $85, $85, $86, $86 }
const nomodify byte* FR_COUNTER = (byte*) 16407
const nomodify byte JOY_DOWN = 4
const nomodify byte JOY_LEFT = 2
const nomodify byte JOY_RIGHT = 1
const nomodify byte JOY_UP = 8
const nomodify byte* MEMORY = (byte*) 0
const byte OFFSET_STRUCT_RICOH_2A03_DMC_FREQ = $10
const byte OFFSET_STRUCT_RICOH_2A03_JOY1 = $16
const byte OFFSET_STRUCT_RICOH_2A03_OAMDMA = $14
const byte OFFSET_STRUCT_RICOH_2C02_OAMADDR = 3
const byte OFFSET_STRUCT_RICOH_2C02_PPUADDR = 6
const byte OFFSET_STRUCT_RICOH_2C02_PPUDATA = 7
const byte OFFSET_STRUCT_RICOH_2C02_PPUMASK = 1
const byte OFFSET_STRUCT_RICOH_2C02_PPUSCROLL = 5
const byte OFFSET_STRUCT_RICOH_2C02_PPUSTATUS = 2
const byte OFFSET_STRUCT_SPRITEDATA_X = 3
const byte* PALETTE[$20]  = { $11, $2d, 8, $18, $11, 6, $15, $36, $11, $39, $4a, $5b, $f, $3d, $4e, $5f, $11, $f, $30, 8, $11, $f, $18, 8, $11, $30, $37, $1a, $f, $f, $f, $f }
const struct RICOH_2C02* PPU = (struct RICOH_2C02*) 8192
const nomodify byte* PPU_ATTRIBUTE_TABLE_0 = (byte*) 9152
const nomodify byte* PPU_NAME_TABLE_0 = (byte*) 8192
const nomodify byte* PPU_PALETTE = (byte*) 16128
const nomodify to_volatile byte* PPU_PPUSTATUS = (byte*) 8194
const byte SIZEOF_BYTE = 1
const byte SIZEOF_STRUCT_SPRITEDATA = 4
const struct SpriteData* SPRITES[]  = { { y: $96, tile: $36, attributes: 2, x: $c }, { y: $96, tile: $37, attributes: 2, x: $14 }, { y: $9e, tile: $38, attributes: 2, x: $c }, { y: $9e, tile: $39, attributes: 2, x: $14 }, { y: $96, tile: $70, attributes: 0, x: $48 }, { y: $96, tile: $71, attributes: 0, x: $50 }, { y: $9e, tile: $72, attributes: 1, x: $48 }, { y: $9e, tile: $73, attributes: 1, x: $50 } }
const struct SpriteData* SPRITE_BUFFER[$40]  = { fill( $40, 0) }
const byte* TILES[]  = kickasm {{ .import binary "smb1_chr.bin"
 }}
const to_nomodify void()** VECTORS[]  = { &vblank, &main, (void()*) 0 }
void main()
byte main::initNES1_i
byte main::initNES1_i#1 reg byte x 16.5
byte main::initNES1_i#2 reg byte x 12.222222222222221
byte~ main::initNES1_waitForVBlank1_$0 reg byte a 22.0
byte~ main::initNES1_waitForVBlank2_$0 reg byte a 22.0
byte main::x
byte main::x#1 reg byte x 22.0
byte main::x#2 reg byte x 8.8
void* memcpy(void* memcpy::destination , void* memcpy::source , word memcpy::num)
void* memcpy::destination
const void* memcpy::destination#0 destination = (void*)SPRITE_BUFFER
byte* memcpy::dst
byte* memcpy::dst#1 dst zp[2]:6 101.0
byte* memcpy::dst#2 dst zp[2]:6 101.0
word memcpy::num
const word memcpy::num#0 num = 8*SIZEOF_STRUCT_SPRITEDATA
void* memcpy::return
void* memcpy::source
const void* memcpy::source#0 source = (void*)SPRITES
byte* memcpy::src
byte* memcpy::src#1 src zp[2]:4 202.0
byte* memcpy::src#2 src zp[2]:4 101.0
byte* memcpy::src_end
const byte* memcpy::src_end#0 src_end = (byte*)memcpy::source#0+memcpy::num#0
void ppuDataFill(nomodify void* ppuDataFill::ppuData , byte ppuDataFill::val , word ppuDataFill::size)
word ppuDataFill::i
word ppuDataFill::i#1 i zp[2]:2 202.0
word ppuDataFill::i#2 i zp[2]:2 101.0
nomodify void* ppuDataFill::ppuData
byte~ ppuDataFill::ppuDataPrepare1_$0 reg byte a 22.0
byte~ ppuDataFill::ppuDataPrepare1_$1 reg byte a 22.0
nomodify void* ppuDataFill::ppuDataPrepare1_ppuData
nomodify void* ppuDataFill::ppuDataPrepare1_ppuData#0 ppuDataPrepare1_ppuData zp[2]:4 7.333333333333333
byte ppuDataFill::ppuDataPut1_val
word ppuDataFill::size
word ppuDataFill::size#3 size zp[2]:6 11.222222222222221
byte ppuDataFill::val
byte ppuDataFill::val#4 reg byte x 11.222222222222221
void ppuDataPutTile(nomodify void* ppuDataPutTile::ppuData , byte* ppuDataPutTile::tile)
nomodify void* ppuDataPutTile::ppuData
nomodify byte* ppuDataPutTile::ppuData#0 ppuData zp[2]:2 11.0
nomodify void* ppuDataPutTile::ppuData#2 ppuData zp[2]:2 23.666666666666664
nomodify void* ppuDataPutTile::ppuData#9 ppuData zp[2]:2 22.0
byte~ ppuDataPutTile::ppuDataPrepare1_$0 reg byte a 202.0
byte~ ppuDataPutTile::ppuDataPrepare1_$1 reg byte a 202.0
nomodify void* ppuDataPutTile::ppuDataPrepare1_ppuData
byte~ ppuDataPutTile::ppuDataPrepare2_$0 reg byte a 202.0
byte~ ppuDataPutTile::ppuDataPrepare2_$1 reg byte a 202.0
nomodify void* ppuDataPutTile::ppuDataPrepare2_ppuData
nomodify byte* ppuDataPutTile::ppuDataPrepare2_ppuData#0 ppuDataPrepare2_ppuData zp[2]:2 33.666666666666664
byte ppuDataPutTile::ppuDataPut1_val
byte ppuDataPutTile::ppuDataPut1_val#0 reg byte a 202.0
byte ppuDataPutTile::ppuDataPut2_val
byte ppuDataPutTile::ppuDataPut2_val#0 reg byte a 202.0
byte ppuDataPutTile::ppuDataPut3_val
byte ppuDataPutTile::ppuDataPut3_val#0 reg byte a 202.0
byte ppuDataPutTile::ppuDataPut4_val
byte ppuDataPutTile::ppuDataPut4_val#0 reg byte a 202.0
byte* ppuDataPutTile::tile
byte* ppuDataPutTile::tile#10 tile zp[2]:4 25.25
void ppuDataTransfer(nomodify void* ppuDataTransfer::ppuData , nomodify void* ppuDataTransfer::cpuData , word ppuDataTransfer::size)
nomodify void* ppuDataTransfer::cpuData
const nomodify void* ppuDataTransfer::cpuData#0 cpuData = (void*)PALETTE
byte* ppuDataTransfer::cpuSrc
byte* ppuDataTransfer::cpuSrc#1 cpuSrc zp[2]:6 101.0
byte* ppuDataTransfer::cpuSrc#2 cpuSrc zp[2]:6 75.75
word ppuDataTransfer::i
word ppuDataTransfer::i#1 i zp[2]:4 202.0
word ppuDataTransfer::i#2 i zp[2]:4 60.599999999999994
nomodify void* ppuDataTransfer::ppuData
const nomodify void* ppuDataTransfer::ppuData#0 ppuData = (void*)PPU_PALETTE
nomodify void* ppuDataTransfer::ppuDataPrepare1_ppuData
byte ppuDataTransfer::ppuDataPut1_val
byte ppuDataTransfer::ppuDataPut1_val#0 reg byte a 202.0
word ppuDataTransfer::size
const word ppuDataTransfer::size#0 size = $20*SIZEOF_BYTE
byte readJoy1()
byte~ readJoy1::$1 zp[1]:8 101.0
byte~ readJoy1::$2 reg byte a 202.0
byte readJoy1::i
byte readJoy1::i#1 reg byte x 202.0
byte readJoy1::i#2 reg byte x 60.599999999999994
byte readJoy1::joy
byte readJoy1::joy#1 reg byte a 101.0
byte readJoy1::joy#2 reg byte a 51.0
byte readJoy1::return
byte readJoy1::return#2 reg byte a 4.0
interrupt(HARDWARE_STACK) void vblank()
byte~ vblank::$1 reg byte a 4.0
byte~ vblank::$3 reg byte a 4.0
byte~ vblank::$5 reg byte a 4.0
byte~ vblank::$7 reg byte a 4.0
byte vblank::joy
byte vblank::joy#0 reg byte x 0.5263157894736842
struct SpriteData* vblank::ppuSpriteBufferDmaTransfer1_spriteBuffer

reg byte x [ main::initNES1_i#2 main::initNES1_i#1 ]
reg byte x [ main::x#2 main::x#1 ]
reg byte x [ readJoy1::i#2 readJoy1::i#1 ]
reg byte a [ readJoy1::joy#2 readJoy1::joy#1 ]
reg byte x [ ppuDataFill::val#4 ]
zp[2]:2 [ ppuDataPutTile::ppuData#2 ppuDataPutTile::ppuData#9 ppuDataPutTile::ppuData#0 ppuDataPutTile::ppuDataPrepare2_ppuData#0 ppuDataFill::i#2 ppuDataFill::i#1 ]
zp[2]:4 [ memcpy::src#2 memcpy::src#1 ppuDataPutTile::tile#10 ppuDataFill::ppuDataPrepare1_ppuData#0 ppuDataTransfer::i#2 ppuDataTransfer::i#1 ]
zp[2]:6 [ memcpy::dst#2 memcpy::dst#1 ppuDataFill::size#3 ppuDataTransfer::cpuSrc#2 ppuDataTransfer::cpuSrc#1 ]
reg byte a [ readJoy1::return#2 ]
reg byte x [ vblank::joy#0 ]
reg byte a [ vblank::$1 ]
reg byte a [ vblank::$3 ]
reg byte a [ vblank::$5 ]
reg byte a [ vblank::$7 ]
reg byte a [ main::initNES1_waitForVBlank1_$0 ]
reg byte a [ main::initNES1_waitForVBlank2_$0 ]
zp[1]:8 [ readJoy1::$1 ]
reg byte a [ readJoy1::$2 ]
reg byte a [ ppuDataTransfer::ppuDataPut1_val#0 ]
reg byte a [ ppuDataFill::ppuDataPrepare1_$0 ]
reg byte a [ ppuDataFill::ppuDataPrepare1_$1 ]
reg byte a [ ppuDataPutTile::ppuDataPrepare1_$0 ]
reg byte a [ ppuDataPutTile::ppuDataPrepare1_$1 ]
reg byte a [ ppuDataPutTile::ppuDataPut1_val#0 ]
reg byte a [ ppuDataPutTile::ppuDataPut2_val#0 ]
reg byte a [ ppuDataPutTile::ppuDataPrepare2_$0 ]
reg byte a [ ppuDataPutTile::ppuDataPrepare2_$1 ]
reg byte a [ ppuDataPutTile::ppuDataPut3_val#0 ]
reg byte a [ ppuDataPutTile::ppuDataPut4_val#0 ]
